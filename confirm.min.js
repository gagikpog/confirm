
/**
 * @author Pogosyan G.A.
 * @demo https://gagikpog.ru/confirm
 * @github https://github.com/gagikpog/confirm
 */

"use strict";var __assign=(this&&this.__assign)||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p]}
return t};return __assign.apply(this,arguments)};function showConfirm(message,description,config){var id="confirm_"+new Date().getTime();var dialogId="#"+id;createHtml(id);return new Promise(function(resolve,rej){var dialog=document.querySelector(dialogId);dialog.close=function(){dialog.style.display='none';dialog.remove()};config=config||{};var isNeedUseDefaultButtons=config.MBOK||config.MBCANCEL||config.MBYES;if(!config.buttons){config.buttons=[{id:'MBCANCEL',title:'Cancel',backgroundColor:'#28a745',color:'#fff',order:3,validate:!1},{id:'MBOK',title:'OK',backgroundColor:'#6c757d',color:'#fff',order:2,validate:!0},{id:'MBYES',title:'Yes',backgroundColor:'#007bff',color:'#fff',order:1,validate:!0}]}
config=__assign({theme:'white',modal:!0,templateId:'',asyncClose:!1,validator:null},config);var contentForm=document.createElement('form');contentForm.addEventListener("submit",function(event){event.preventDefault()},!0);var buttonsContainer=document.querySelector(dialogId+" .messageBox-buttons");while(buttonsContainer.hasChildNodes()){buttonsContainer.removeChild(buttonsContainer.lastChild)}
config.buttons.forEach(function(button){if(isNeedUseDefaultButtons&&!(button.id in config)){return}
var btn=document.createElement('button');btn.classList.add('btn','mbButton');btn.textContent=button.title;btn.id=button.id;btn.validate=button.validate;btn.onclick=function(){var submit=function(validateDone){if(validateDone){new Promise(function(res){var formData=new FormData(contentForm);var result=Object.fromEntries(formData);resolve({button:btn.id,formData:result,close:config.asyncClose?res:function(){}});if(!config.asyncClose){dialog.close()}}).then(function(){dialog.close()})}
else{contentForm.reportValidity();contentForm.focus()}};if(typeof(config.validator)!=='function'){var validateDone=btn.validate?contentForm.checkValidity():!0;submit(validateDone)}
else{if(btn.validate){var validatorResult=config.validator(contentForm,btn);if(validatorResult&&validatorResult.then){validatorResult.then(function(validateDone){submit(validateDone)})}
else{submit(validatorResult)}}
else{submit(!0)}}};btn.style.backgroundColor=button.backgroundColor;btn.style.color=button.color;btn.style.order=button.order;buttonsContainer.appendChild(btn)});dialog.classList=[];dialog.classList.add('confirm',config.theme);dialog.style.display='flex';if(config.modal){dialog.classList.add('modal')}
else{dialog.classList.remove('modal')}
var maxWidth=document.body.clientWidth;var minWidth=350;var width=config.buttons.length*130;width=width<minWidth?minWidth:config.buttons.length*130;width=width<maxWidth?width:maxWidth;document.querySelector(dialogId+" .dialog").style.maxWidth=width+"px";document.querySelector(dialogId+" .dialog").style.minWidth=width+"px";document.querySelector(dialogId+" #messageTitle").textContent=message;document.querySelector(dialogId+" #messageDescription").textContent=description;if(config.templateId){var template=document.querySelector("#"+config.templateId);if(template){var clone=document.importNode(template,!0);clone.style.display='block';var contentContainer=document.querySelector(dialogId+" #messageDefaultContent");contentForm.appendChild(clone);contentContainer.appendChild(contentForm)}
else{console.error("A block named '"+config.templateId+"' does not exist")}}});function createHtml(id){var confirm=document.createElement('div');confirm.id=id;confirm.classList.add('confirm');confirm.style.display='none';var dialog=document.createElement('div');dialog.classList.add('dialog');var h1=document.createElement('h1');h1.id='messageTitle';h1.classList.add('title');var content=document.createElement('div');content.id='messageDefaultContent';content.classList.add('messageDefaultContent');var p=document.createElement('p');p.id='messageDescription';p.classList.add('description');var buttonsContainer=document.createElement('div');buttonsContainer.classList.add('messageBox-buttons');dialog.appendChild(h1);dialog.appendChild(content);dialog.appendChild(p);dialog.appendChild(buttonsContainer);confirm.appendChild(dialog);document.body.appendChild(confirm)}}
var sheet=(function(){var style=document.createElement("style");style.appendChild(document.createTextNode(""));document.head.appendChild(style);return style.sheet})();".confirm *{padding:0;margin:0}.confirm{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:361;display:flex;flex-direction:column;justify-content:center;align-items:center}.confirm.modal{top:0;left:0;width:100%;height:100%;background-color:#0000008c;transform:translate(0,0)}.confirm .dialog{background-color:white;min-height:150px;display:flex;flex-direction:column;border-radius:10px}.confirm .description{flex:2;text-align:center;padding:12px;max-width:100%}.confirm .title{text-align:center;margin-top:30px}.confirm .messageBox-buttons{display:flex;flex-direction:row;justify-content:space-around;padding:20px}.confirm .mbButton{width:120px;padding:10px;margin:10px;cursor:pointer;border-radius:5px}.confirm.dark>*{color:white;background-color:#1e1e1e}".split('}').map(function(str){return str+'}'}).slice(0,-1).forEach(function(style,index){sheet.insertRule(style,index)})
