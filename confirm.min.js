/**
 * @author Pogosyan G.A.
 * @demo https://gagikpog.ru/confirm
 * @github https://github.com/gagikpog/confirm
 */
"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function showConfirm(r,s,m){var e="confirm_".concat((new Date).getTime()),u="#".concat(e);return function(e){var t=document.createElement("div");t.id=e,t.classList.add("confirm"),t.style.display="none";var o=document.createElement("div");o.classList.add("dialog");var n=document.createElement("h1");n.id="messageTitle",n.classList.add("title");var a=document.createElement("div");a.id="messageDefaultContent",a.classList.add("messageDefaultContent");var i=document.createElement("p");i.id="messageDescription",i.classList.add("description"),(e=document.createElement("div")).classList.add("messageBox-buttons"),o.appendChild(n),o.appendChild(a),o.appendChild(i),o.appendChild(e),t.appendChild(o),document.body.appendChild(t)}(e),new Promise(function(n,e){var a=document.querySelector(u);a.close=function(){a.style.display="none",a.remove()};var i=(m=m||{}).MBOK||m.MBCANCEL||m.MBYES;m.buttons||(m.buttons=[{id:"MBCANCEL",title:"Cancel",backgroundColor:"#28a745",color:"#fff",order:3,validate:!1},{id:"MBOK",title:"OK",backgroundColor:"#6c757d",color:"#fff",order:2,validate:!0,keys:["Enter","NumpadEnter"]},{id:"MBYES",title:"Yes",backgroundColor:"#007bff",color:"#fff",order:1,validate:!0}]),m=__assign({theme:"white",modal:!0,templateId:"",asyncClose:!1,validator:null,templateCallBack:null},m);var c=document.createElement("form");c.addEventListener("submit",function(e){e.preventDefault()},!0);for(var l=document.querySelector("".concat(u," .messageBox-buttons"));l.hasChildNodes();)l.removeChild(l.lastChild);m.buttons.forEach(function(t){var o;(!i||t.id in m)&&((o=document.createElement("button")).classList.add("btn","mbButton"),o.textContent=t.title,o.id=t.id,o.validate=t.validate,a.addEventListener("keypress",function(e){(t.keys||[]).includes(e.code)&&o.click()}),o.onclick=function(){function t(e){e?new Promise(function(e){var t=new FormData(c),t=Object.fromEntries(t);n({button:o.id,formData:t,close:m.asyncClose?e:function(){}}),m.asyncClose||a.close()}).then(function(){a.close()}):(c.reportValidity(),c.focus())}var e;"function"!=typeof m.validator?(e=!o.validate||c.checkValidity(),t(e)):o.validate?(e=m.validator(c,o))&&e.then?e.then(function(e){t(e)}):t(e):t(!0)},o.style.backgroundColor=t.backgroundColor,o.style.color=t.color,o.style.order=t.order,l.appendChild(o))}),a.classList=[],a.classList.add("confirm",m.theme),a.style.display="flex",m.modal?a.classList.add("modal"):a.classList.remove("modal");var t,o=document.body.clientWidth,d=130*m.buttons.length;d=(d=d<350?350:130*m.buttons.length)<o?d:o,document.querySelector("".concat(u," .dialog")).style.maxWidth="".concat(d,"px"),document.querySelector("".concat(u," .dialog")).style.minWidth="".concat(d,"px"),document.querySelector("".concat(u," #messageTitle")).textContent=r,document.querySelector("".concat(u," #messageDescription")).textContent=s,m.templateId&&((d=document.querySelector("#".concat(m.templateId)))?((t=document.importNode(d,!0)).style.display="block",c.appendChild(t)):console.error("A block named '".concat(m.templateId,"' does not exist"))),m.templateCallBack&&"function"==typeof m.templateCallBack&&(t=m.templateCallBack(),c.appendChild(t)),0<c.childElementCount&&document.querySelector("".concat(u," #messageDefaultContent")).appendChild(c)})}var style="<style>.confirm *{padding:0;margin:0}.confirm{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:361;display:flex;flex-direction:column;justify-content:center;align-items:center}.confirm.modal{top:0;left:0;width:100%;height:100%;background-color:#0000008c;transform:translate(0,0)}.confirm .dialog{background-color:#fff;min-height:150px;display:flex;flex-direction:column;border-radius:10px;border:3px solid #aaa}.confirm .description{flex:2;text-align:center;padding:12px;max-width:100%}.confirm .title{text-align:center;margin-top:30px}.confirm .messageBox-buttons{display:flex;flex-direction:row;justify-content:space-around;padding:20px}.confirm .mbButton{width:120px;padding:10px;margin:10px;cursor:pointer;border-radius:5px}.confirm.dark>*{color:#fff;background-color:#1e1e1e}@media (prefers-color-scheme:dark){.confirm.auto>*{color:#fff;background-color:#1e1e1e}}</style>";document.head.insertAdjacentHTML("beforeend",style);
