
/**
 * @author Pogosyan G.A.
 * @demo https://gagikpog.ru/confirm
 * @github https://github.com/gagikpog/confirm
 */

"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function showConfirm(m,u,f){var e="confirm_"+(new Date).getTime(),p="#"+e;return function(e){var t=document.createElement("div");t.id=e,t.classList.add("confirm"),t.style.display="none";var n=document.createElement("div");n.classList.add("dialog");var o=document.createElement("h1");o.id="messageTitle",o.classList.add("title");var a=document.createElement("div");a.id="messageDefaultContent",a.classList.add("messageDefaultContent");var i=document.createElement("p");i.id="messageDescription",i.classList.add("description");var d=document.createElement("div");d.classList.add("messageBox-buttons"),n.appendChild(o),n.appendChild(a),n.appendChild(i),n.appendChild(d),t.appendChild(n),document.body.appendChild(t)}(e),new Promise(function(a,e){var i=document.querySelector(p);i.close=function(){i.style.display="none",i.remove()};var n=(f=f||{}).MBOK||f.MBCANCEL||f.MBYES;f.buttons||(f.buttons=[{id:"MBCANCEL",title:"Cancel",backgroundColor:"#28a745",color:"#fff",order:3,validate:!1},{id:"MBOK",title:"OK",backgroundColor:"#6c757d",color:"#fff",order:2,validate:!0,keys:["Enter","NumpadEnter"]},{id:"MBYES",title:"Yes",backgroundColor:"#007bff",color:"#fff",order:1,validate:!0}]),f=__assign({theme:"white",modal:!0,templateId:"",asyncClose:!1,validator:null,templateCallBack:null},f);var d=document.createElement("form");d.addEventListener("submit",function(e){e.preventDefault()},!0);for(var l=document.querySelector(p+" .messageBox-buttons");l.hasChildNodes();)l.removeChild(l.lastChild);f.buttons.forEach(function(t){var o;(!n||t.id in f)&&((o=document.createElement("button")).classList.add("btn","mbButton"),o.textContent=t.title,o.id=t.id,o.validate=t.validate,i.addEventListener("keypress",function(e){(t.keys||[]).includes(e.code)&&o.click()}),o.onclick=function(){function t(e){e?new Promise(function(e){var t=new FormData(d),n=Object.fromEntries(t);a({button:o.id,formData:n,close:f.asyncClose?e:function(){}}),f.asyncClose||i.close()}).then(function(){i.close()}):(d.reportValidity(),d.focus())}var e,n;"function"!=typeof f.validator?(e=!o.validate||d.checkValidity(),t(e)):o.validate?(n=f.validator(d,o))&&n.then?n.then(function(e){t(e)}):t(n):t(!0)},o.style.backgroundColor=t.backgroundColor,o.style.color=t.color,o.style.order=t.order,l.appendChild(o))}),i.classList=[],i.classList.add("confirm",f.theme),i.style.display="flex",f.modal?i.classList.add("modal"):i.classList.remove("modal");var t,o,r,c=document.body.clientWidth,s=130*f.buttons.length;s=(s=s<350?350:130*f.buttons.length)<c?s:c,document.querySelector(p+" .dialog").style.maxWidth=s+"px",document.querySelector(p+" .dialog").style.minWidth=s+"px",document.querySelector(p+" #messageTitle").textContent=m,document.querySelector(p+" #messageDescription").textContent=u,f.templateId&&((t=document.querySelector("#"+f.templateId))?((o=document.importNode(t,!0)).style.display="block",d.appendChild(o)):console.error("A block named '"+f.templateId+"' does not exist")),f.templateCallBack&&"function"==typeof f.templateCallBack&&(r=f.templateCallBack(),d.appendChild(r)),0<d.childElementCount&&document.querySelector(p+" #messageDefaultContent").appendChild(d)})}var sheet=function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}();".confirm *{padding:0;margin:0}.confirm{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:361;display:flex;flex-direction:column;justify-content:center;align-items:center}.confirm.modal{top:0;left:0;width:100%;height:100%;background-color:#0000008c;transform:translate(0,0)}.confirm .dialog{background-color:#fff;min-height:150px;display:flex;flex-direction:column;border-radius:10px;border:3px solid #aaa}.confirm .description{flex:2;text-align:center;padding:12px;max-width:100%}.confirm .title{text-align:center;margin-top:30px}.confirm .messageBox-buttons{display:flex;flex-direction:row;justify-content:space-around;padding:20px}.confirm .mbButton{width:120px;padding:10px;margin:10px;cursor:pointer;border-radius:5px}.confirm.dark>*{color:#fff;background-color:#1e1e1e}".split("}").map(function(e){return e+"}"}).slice(0,-1).forEach(function(e,t){sheet.insertRule(e,t)});